<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>KTVè´¦å• - [[${roomNumber}]]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h2>KTV è´¦å• - åŒ…æˆ¿ [[${roomNumber}]]</h2>

    <a th:href="@{/ktv/song/{n}(n=${roomNumber})}" class="btn btn-primary mb-3">ç»§ç»­ç‚¹æ­Œ</a>
    <a href="/ktv/rooms" class="btn btn-secondary mb-3 ms-2">è¿”å›åŒ…æˆ¿åˆ—è¡¨</a>

    <table class="table table-bordered">
        <thead class="table-light">
        <tr>
            <th>æ­Œæ›²</th>
            <th>æ­Œæ‰‹</th>
            <th>æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰</th>
            <th>ä»·æ ¼</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${songs.isEmpty()}">
            <td colspan="4" class="text-center text-muted">æš‚æ— ç‚¹æ­Œè®°å½•</td>
        </tr>
        <tr th:each="song : ${songs}">
            <td th:text="${song.songName}"></td>
            <td th:text="${song.singer}"></td>
            <td th:text="${song.durationMinutes}"></td>
            <td>Â¥[[${#numbers.formatDecimal(song.price, 1, 2)}]]</td>
        </tr>
        </tbody>
        <tfoot>
        <tr class="table-success">
            <th colspan="3" class="text-end">æ€»è®¡ï¼š</th>
            <th>Â¥[[${#numbers.formatDecimal(total, 1, 2)}]]</th>
        </tr>
        </tfoot>
    </table>

    <div class="mt-3">
        <a th:href="@{/ktv/settle/{n}(n=${roomNumber})}"
           class="btn btn-success btn-lg"
           th:disabled="${total.compareTo(0) <= 0}"
           onclick="return confirm('ç¡®è®¤ç»“è´¦ï¼Ÿç»“è´¦åä¸å¯æ’¤é”€ï¼')">
            ğŸ’³ ç»“è´¦å¹¶é‡Šæ”¾åŒ…æˆ¿
        </a>
    </div>
</div>
</body>
</html>