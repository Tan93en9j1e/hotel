<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>è´¦å• - [[${tableNumber}]]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h2>è´¦å• - é¤ä½ [[${tableNumber}]]</h2>

    <a th:href="@{/dining/order/{n}(n=${tableNumber})}" class="btn btn-primary mb-3">ç»§ç»­ç‚¹å•</a>
    <a href="/dining/tables" class="btn btn-secondary mb-3 ms-2">è¿”å›é¤ä½åˆ—è¡¨</a>

    <table class="table table-bordered">
        <thead class="table-light">
        <tr>
            <th>é¡¹ç›®</th>
            <th>ç±»å‹</th>
            <th>å•ä»·</th>
            <th>æ•°é‡</th>
            <th>å°è®¡</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${items.isEmpty()}">
            <td colspan="5" class="text-center text-muted">æš‚æ— æ¶ˆè´¹è®°å½•</td>
        </tr>
        <tr th:each="item : ${items}">
            <td th:text="${item.itemName}"></td>
            <td th:text="${item.type}"></td>
            <td>Â¥[[${#numbers.formatDecimal(item.price, 1, 2)}]]</td>
            <td th:text="${item.quantity}"></td>
            <td>Â¥[[${#numbers.formatDecimal(item.totalPrice, 1, 2)}]]</td>
        </tr>
        </tbody>
        <tfoot>
        <tr class="table-success">
            <th colspan="4" class="text-end">æ€»è®¡ï¼š</th>
            <th>Â¥[[${#numbers.formatDecimal(total, 1, 2)}]]</th>
        </tr>
        </tfoot>
    </table>

    <div class="mt-3">
        <a th:href="@{/dining/settle/{n}(n=${tableNumber})}"
           class="btn btn-success btn-lg"
           th:disabled="${total.compareTo(0) <= 0}"
           onclick="return confirm('ç¡®è®¤ç»“è´¦ï¼Ÿç»“è´¦åä¸å¯æ’¤é”€ï¼')">
            ğŸ’³ ç»“è´¦å¹¶é‡Šæ”¾é¤ä½
        </a>
    </div>
</div>
</body>
</html>